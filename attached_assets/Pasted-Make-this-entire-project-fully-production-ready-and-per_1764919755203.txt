Make this entire project fully production-ready and perfectly compatible with Vercel. Remove every Replit-specific feature, dependency, or behavior and rebuild anything that will not work in a Vercel environment. Use Supabase as the only database, storage, and place to store anything that previously relied on local or in-memory logic. If any part of the project currently uses temporary variables, local JSON, file operations, or any kind of RAM-based state, move it into Supabase tables or storage. Rebuild every API route using JavaScript (or TypeScript only if the project is consistently TS) and make sure all API endpoints follow the Vercel serverless route structure: /app/api/route/route.js. Ensure all functions work correctly in a serverless environment with proper error handling, correct status codes, JSON responses, and full CORS support where needed. Make sure nothing depends on long-running processes or background loops because Vercel does not allow persistent runtime. Replace or redesign any such functionality to work in a serverless pattern or with database-driven logic.

Fix all script type mismatches, incorrect imports, unused dependencies, and any client/server component conflicts in Next.js. Resolve all hydration issues, async/await problems, and build errors. Make sure everything compiles cleanly in a production build with next build and test the entire application exactly as it would behave on Vercel, including cold starts and parallel requests. Replace any incomplete, placeholder, or unfinished feature with a fully implemented and tested versionâ€”this includes analytics, listen counts, play history, upload features, any TODOs left in the code, and anything partially implemented or commented as incomplete.

Ensure all features work end-to-end with Supabase. If database tables or schemas are missing, create them. If logic is incomplete or broken, fix it. If there are Replit-style server patterns like express servers, websockets, or anything relying on local persistent state, replace them with Vercel-compatible solutions. The final product must have all routes functioning, every feature implemented, and no development-only logic. Everything should be optimized for production, not testing.

Deliver a clean, final codebase that can be deployed to Vercel immediately without modification. All APIs must be working, all features fully functional, and the entire project should behave as a polished final release. Provide environment variable requirements if needed. Treat this project as if you are the senior full-time engineer responsible for shipping a final stable version. Use best practices, clean and optimized code, no shortcuts, and ensure the entire app is fully tested and ready for real users.